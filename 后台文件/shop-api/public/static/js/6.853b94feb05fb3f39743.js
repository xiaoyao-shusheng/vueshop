webpackJsonp([6],{VxWS:function(e,t){},Xujl:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r("Xxa5"),n=r.n(s),i=r("exGp"),o=r.n(i),a=r("Dd8w"),l=r.n(a),f=r("fP0o"),c=r("NYxO"),u={data:function(){return{forminfo:{rolename:"",menus:[],status:1},isStrictly:!1,rules:{rolename:[{required:!0,message:"请输入角色名称",trigger:"blur"}]}}},created:function(){this.$route.params.id&&this.getinfo()},computed:l()({},Object(c.c)({menulist:"menu/menulist"})),mounted:function(){this.menulist.length||this.getMenuList()},methods:l()({},Object(c.b)({getMenuList:"menu/getlist"}),{getinfo:function(){var e=this;return o()(n.a.mark(function t(){var r;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(f.d)(e.$route.params.id);case 2:e.forminfo=t.sent,r=e.forminfo.menus.split(","),e.isStrictly=!0,e.$nextTick(function(){e.$refs.tree.setCheckedKeys(r),e.isStrictly=!1});case 6:case"end":return t.stop()}},t,e)}))()},submit:function(){var e=this;this.$refs.tree.getCheckedKeys().length?(this.forminfo.menus=this.$refs.tree.getCheckedKeys().concat(this.$refs.tree.getHalfCheckedKeys()),this.$refs.form.validate(function(t){t?e.$route.params.id?Object(f.c)(e.$route.params.id,e.forminfo):Object(f.a)(e.forminfo):e.$message.warning("验证失败")})):this.$message.warning("请选择菜单节点")},reset:function(){this.$route.params.id?this.getinfo():this.$refs.form.resetFields()}}),components:{}},m={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-row",{staticClass:"form-bg"},[r("el-col",{attrs:{span:10,offset:6}},[r("el-form",{ref:"form",attrs:{rules:e.rules,model:e.forminfo,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"角色名称",prop:"rolename"}},[r("el-input",{model:{value:e.forminfo.rolename,callback:function(t){e.$set(e.forminfo,"rolename",t)},expression:"forminfo.rolename"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"权限菜单"}},[r("el-tree",{ref:"tree",attrs:{data:e.menulist,"show-checkbox":"","check-strictly":e.isStrictly,"node-key":"id","default-expand-all":"",props:{children:"children",label:"title"}}})],1),e._v(" "),r("el-form-item",{attrs:{label:"状态"}},[r("el-switch",{attrs:{"active-value":1,"inactive-value":2},model:{value:e.forminfo.status,callback:function(t){e.$set(e.forminfo,"status",t)},expression:"forminfo.status"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("立即"+e._s(e.$route.params.id?"修改":"创建"))]),e._v(" "),r("el-button",{on:{click:e.reset}},[e._v("重置")])],1)],1)],1)],1)},staticRenderFns:[]};var d=r("VU/8")(u,m,!1,function(e){r("VxWS")},"data-v-56f243ed",null);t.default=d.exports}});
//# sourceMappingURL=6.853b94feb05fb3f39743.js.map
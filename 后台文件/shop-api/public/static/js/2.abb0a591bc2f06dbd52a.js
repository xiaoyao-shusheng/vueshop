webpackJsonp([2],{"2gly":function(e,t,n){"use strict";n.d(t,"d",function(){return h}),n.d(t,"a",function(){return b}),n.d(t,"c",function(){return v}),n.d(t,"b",function(){return g});var r,i,a,s,o=n("Xxa5"),c=n.n(o),u=n("exGp"),l=n.n(u),f=n("pP4B"),m=n("mtWM"),d=(n.n(m),n("YaEn")),p=n("JaHG"),h=(r=l()(c.a.mark(function e(t){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=void 0,!t){e.next=7;break}return e.next=4,f.a.get("/bannerinfo?id="+t);case 4:n=e.sent,e.next=10;break;case 7:return e.next=9,f.a.get("/bannerlist");case 9:n=e.sent;case 10:if(!n.list){e.next=14;break}return e.abrupt("return",n.list);case 14:return e.abrupt("return",[]);case 15:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)}),b=(i=l()(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.post("/banneradd",t);case 2:200==e.sent.code&&Object(p.a)("success","添加成功",function(){d.a.back()});case 4:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)}),v=(a=l()(c.a.mark(function e(t,n){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.append("id",t),e.next=3,f.a.post("/banneredit",n);case 3:200==e.sent.code&&Object(p.a)("success","修改成功",function(){d.a.back()});case 5:case"end":return e.stop()}},e,this)})),function(e,t){return a.apply(this,arguments)}),g=(s=l()(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.post("/bannerdelete",{id:t});case 2:e.sent&&Object(p.a)("success","删除成功");case 4:case"end":return e.stop()}},e,this)})),function(e){return s.apply(this,arguments)})},FlEi:function(e,t){},lrwi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("Xxa5"),i=n.n(r),a=n("exGp"),s=n.n(a),o=n("2gly"),c={data:function(){return{forminfo:{title:"",img:"",status:1},dialogImageUrl:"",dialogVisible:!1,fileList:[],rules:{title:[{required:!0,message:"请输入轮播图名称",trigger:"blur"}]}}},created:function(){this.$route.params.id&&this.getinfo()},methods:{handleChange:function(e,t){this.forminfo.img=e.raw},handleRemove:function(e,t){this.fileList=[],this.forminfo.img=""},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},getinfo:function(){var e=this;return s()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(o.d)(e.$route.params.id);case 2:e.forminfo=t.sent,e.forminfo.img&&(e.fileList=[{name:e.forminfo.catename,url:e.$host+e.forminfo.img}]);case 4:case"end":return t.stop()}},t,e)}))()},submit:function(){var e=this,t=new FormData;for(var n in this.forminfo)t.append(n,this.forminfo[n]);this.$refs.form.validate(function(n){n?e.$route.params.id?Object(o.c)(e.$route.params.id,t):Object(o.a)(t):e.$message.warning("验证失败")})},reset:function(){this.$route.params.id?this.getinfo():this.$refs.form.resetFields()}},components:{}},u={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",{staticClass:"form-bg"},[n("el-col",{attrs:{span:10,offset:6}},[n("el-form",{ref:"form",attrs:{rules:e.rules,model:e.forminfo,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"轮播图名称",prop:"title"}},[n("el-input",{model:{value:e.forminfo.title,callback:function(t){e.$set(e.forminfo,"title",t)},expression:"forminfo.title"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"轮播图"}},[n("el-upload",{attrs:{action:"#","auto-upload":!1,"list-type":"picture-card",limit:1,"file-list":e.fileList,"on-change":e.handleChange,"on-preview":e.handlePictureCardPreview,"on-remove":e.handleRemove}},[n("i",{staticClass:"el-icon-plus"})]),e._v(" "),n("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1),e._v(" "),n("el-form-item",{attrs:{label:"状态"}},[n("el-switch",{attrs:{"active-value":1,"inactive-value":2},model:{value:e.forminfo.status,callback:function(t){e.$set(e.forminfo,"status",t)},expression:"forminfo.status"}})],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("立即"+e._s(e.$route.params.id?"修改":"创建"))]),e._v(" "),n("el-button",{on:{click:e.reset}},[e._v("重置")])],1)],1)],1)],1)},staticRenderFns:[]};var l=n("VU/8")(c,u,!1,function(e){n("FlEi")},"data-v-7edefe3b",null);t.default=l.exports}});
//# sourceMappingURL=2.abb0a591bc2f06dbd52a.js.map